<!--
-->
<div class="div-component">
    <h4>Listes des utilisateurs</h4>
    <ng-template [ngIf]="!utilisateurs">
        <div style="text-align: center; margin-top: 30%">
            <p-progressSpinner [style]="{width: '33px', height: '33px'}">
            </p-progressSpinner>
        </div>
    </ng-template>
    <ng-template [ngIf]="utilisateurs">
        <div infinite-scroll (scrolled)="loadPage(page + 1)" [infiniteScrollDisabled]="page >= links['last']"
             [infiniteScrollDistance]="0">
            <p-dataView [value]="utilisateurs" [style]="{'width':'100%'}" emptyMessage="Aucun rÃ©sultat">
                <p-header>
                    <div class="p-grid p-align-center vertical-container">
                        <div class="p-col-10">
                            <erp-recherche (onSearchClick)="findAll($event)"></erp-recherche>
                        </div>
                        <div class="p-col-2">
                            <button pButton icon="pi pi-plus" routerLink="/admin/utilisateurs/creer"></button>
                        </div>
                    </div>
                </p-header>

                <ng-template let-utilisateur pTemplate="listItem">
                    <div class="p-grid data-item data-view-item" [routerLink]="['/admin/utilisateurs',utilisateur.id,'modifier']">
                        <div class="p-col-12">
                            <span style="font-weight: bold;display: block">
                                {{ utilisateur.prenom }}  {{ utilisateur.nom }}
                            </span>
                            <div>
                                <em>Login:</em>
                                <strong>{{ utilisateur.login }}</strong>
                            </div>
                            <div>
                                <em>Email:</em>
                                <strong>{{ utilisateur.email }}</strong>
                            </div>
                            <div>
                                <em>TÃ©l:</em>
                                <strong>{{ utilisateur.telephone }}</strong>
                            </div>
                            <div>
                                <em>Entreprise:</em>
                                <strong>{{ utilisateur.nomEntreprise }}</strong>
                            </div>
                            <div>
                                <em>Actif:</em>
                                <span *ngIf="utilisateur.actif"><fa-icon icon="check" style="color: #3e8acc"></fa-icon></span>
                                <span *ngIf="!utilisateur.actif"> <fa-icon icon="times" style="color: #FFda16"></fa-icon></span>
                            </div>
                        </div>
                    </div>
                </ng-template>
            </p-dataView>
        </div>
    </ng-template>

</div>
